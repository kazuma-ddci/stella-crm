# CLAUDE.md - CRMã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºã‚¬ã‚¤ãƒ‰

ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯Cursor/Claude CodeãŒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç†è§£ã™ã‚‹ãŸã‚ã®ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

ç¤¾å†…CRMã‚·ã‚¹ãƒ†ãƒ  - è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¨ªæ–­ã—ã¦é¡§å®¢ã‚’ä¸€å…ƒç®¡ç†

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-------------|------|------|
| Stellaï¼ˆå…¨é¡§å®¢ãƒã‚¹ã‚¿ï¼‰ | `/companies` | å…¨é¡§å®¢ã®åŸºæœ¬æƒ…å ±ç®¡ç† |
| STPï¼ˆæ¡ç”¨ãƒ–ãƒ¼ã‚¹ãƒˆï¼‰ | `/stp/*` | æ¡ç”¨æ”¯æ´ã‚µãƒ¼ãƒ“ã‚¹ã®å•†è«‡ãƒ»å¥‘ç´„ç®¡ç† |

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- Next.js 16+ (App Router, TypeScript)
- PostgreSQL 15
- Prisma ORM
- Tailwind CSS + shadcn/ui
- Docker / Docker Compose

## é–‹ç™ºç’°å¢ƒ

```bash
# èµ·å‹•
docker-compose up -d

# åœæ­¢
docker-compose down

# ãƒ­ã‚°
docker-compose logs -f app

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
docker-compose exec app npx prisma migrate dev --name <name>

# ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿
docker-compose exec app npx prisma db seed

# Prisma Studio
docker-compose exec app npx prisma studio
```

- http://localhost:3000 - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
- http://localhost:5555 - Prisma Studioï¼ˆDBç¢ºèªç”¨ï¼‰

### Prisma Studioï¼ˆDBç¢ºèªç”¨ï¼‰

Prisma Studioã¯Docker Composeã§è‡ªå‹•èµ·å‹•ã•ã‚Œã¾ã™ã€‚

**é‡è¦: ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´æ™‚ã¯å¿…ãšä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¦DBã‚’æœ€æ–°ã«æ›´æ–°ã™ã‚‹ã“ã¨**

```bash
# 1. Prisma Clientå†ç”Ÿæˆ
docker-compose exec app npx prisma generate

# 2. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œï¼ˆã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰ãŒå¿…è¦ãªå ´åˆã¯db pushã‚’ä½¿ç”¨ï¼‰
docker-compose exec app npx prisma db push

# 3. Prisma Studioã‚’å†èµ·å‹•ï¼ˆå¤‰æ›´ã‚’åæ˜ ï¼‰
docker-compose restart prisma-studio
```

---

## Claude Code å®Ÿè£…ãƒ«ãƒ¼ãƒ«ï¼ˆå¿…é ˆï¼‰

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯Dockerç’°å¢ƒã§é–‹ç™ºã—ã¦ã„ã¾ã™ã€‚**ãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯ãªãDockerã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã€‚**

### npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ æ™‚

æ–°ã—ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆã¯ã€**å¿…ãšDockerã‚³ãƒ³ãƒ†ãƒŠå†…ã§å®Ÿè¡Œ**ï¼š

```bash
docker-compose exec app npm install <ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å>
```

**ãƒ­ãƒ¼ã‚«ãƒ«ã§ `npm install` ã‚’å®Ÿè¡Œã—ã¦ã‚‚ã€Dockerã‚³ãƒ³ãƒ†ãƒŠã«ã¯åæ˜ ã•ã‚Œã¾ã›ã‚“ã€‚**

### Prismaã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´æ™‚

`prisma/schema.prisma` ã‚’å¤‰æ›´ã—ãŸå ´åˆã¯ã€**å¿…ãšä»¥ä¸‹ã‚’å®Ÿè¡Œ**ï¼š

```bash
# Prisma Clientå†ç”Ÿæˆï¼ˆå¿…é ˆï¼‰
docker-compose exec app npx prisma generate

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆï¼ˆæ–°ã—ã„ãƒ†ãƒ¼ãƒ–ãƒ«/ã‚«ãƒ©ãƒ è¿½åŠ æ™‚ï¼‰
docker-compose exec app npx prisma migrate dev --name <å¤‰æ›´å†…å®¹>

# ã¾ãŸã¯æ—¢å­˜DBã«å³æ™‚åæ˜ ï¼ˆé–‹ç™ºæ™‚ã®ã¿ï¼‰
docker-compose exec app npx prisma db push
```

### shadcn/uiã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¿½åŠ æ™‚

shadcn/uiã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹å ´åˆï¼š

```bash
docker-compose exec app npx shadcn@latest add <ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå>
```

### å¤‰æ›´ãŒåæ˜ ã•ã‚Œãªã„å ´åˆ

ã‚³ãƒ³ãƒ†ãƒŠã‚’å†èµ·å‹•ï¼š

```bash
docker-compose restart app
```

---

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹æˆï¼ˆ15ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰

```
master_stella_companiesï¼ˆå…¨é¡§å®¢ãƒã‚¹ã‚¿ï¼‰
    â”‚
    â”œâ”€â”€ 1:N â†’ stp_companiesï¼ˆSTPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¼æ¥­ï¼‰
    â”‚              â”‚
    â”‚              â”œâ”€â”€ N:1 â†’ stp_stagesï¼ˆå•†è«‡ã‚¹ãƒ†ãƒ¼ã‚¸ï¼‰
    â”‚              â”œâ”€â”€ N:1 â†’ stp_agentsï¼ˆä»£ç†åº—ï¼‰
    â”‚              â”œâ”€â”€ N:1 â†’ stp_lead_sourcesï¼ˆæµå…¥çµŒè·¯ï¼‰
    â”‚              â”œâ”€â”€ N:1 â†’ stp_communication_methodsï¼ˆé€£çµ¡æ–¹æ³•ï¼‰
    â”‚              â”œâ”€â”€ N:1 â†’ master_staffï¼ˆæ‹…å½“å–¶æ¥­ï¼‰
    â”‚              â”œâ”€â”€ 1:N â†’ stp_company_contractsï¼ˆä¼æ¥­å¥‘ç´„æ›¸ï¼‰
    â”‚              â”œâ”€â”€ 1:N â†’ stp_contact_historiesï¼ˆä¼æ¥­æ¥è§¦å±¥æ­´ï¼‰
    â”‚              â”‚              â””â”€â”€ N:1 â†’ stp_contact_methodsï¼ˆæ¥è§¦æ–¹æ³•ï¼‰
    â”‚              â””â”€â”€ 1:N â†’ stp_stage_historiesï¼ˆã‚¹ãƒ†ãƒ¼ã‚¸å¤‰æ›´å±¥æ­´ï¼‰
    â”‚
    â”œâ”€â”€ 1:1 â†’ stp_agentsï¼ˆä»£ç†åº—ä¼æ¥­ï¼‰
    â”‚              â”‚
    â”‚              â”œâ”€â”€ 1:N â†’ stp_agent_contractsï¼ˆä»£ç†åº—å¥‘ç´„æ›¸ï¼‰
    â”‚              â”œâ”€â”€ N:N â†’ staffï¼ˆæ‹…å½“è€…ï¼‰via stp_agent_staff
    â”‚              â”œâ”€â”€ N:1 â†’ master_stella_companiesï¼ˆç´¹ä»‹è€…ï¼‰
    â”‚              â””â”€â”€ 1:N â†’ stp_contact_historiesï¼ˆä»£ç†åº—æ¥è§¦å±¥æ­´ï¼‰
    â”‚
    â””â”€â”€ 1:N â†’ stp_contract_historiesï¼ˆå¥‘ç´„å±¥æ­´ï¼‰
                   â””â”€â”€ N:1 â†’ staffï¼ˆæ‹…å½“ã‚¹ã‚¿ãƒƒãƒ•ï¼‰

staffï¼ˆç¤¾å†…ã‚¹ã‚¿ãƒƒãƒ•ï¼‰
    â”œâ”€â”€ 1:N â†’ staff_permissionsï¼ˆæ¨©é™ï¼‰
    â”œâ”€â”€ 1:N â†’ stp_companiesï¼ˆæ‹…å½“å–¶æ¥­ï¼‰
    â””â”€â”€ N:N â†’ stp_agentsï¼ˆæ‹…å½“ä»£ç†åº—ï¼‰via stp_agent_staff
```

### ãƒ†ãƒ¼ãƒ–ãƒ«èª¬æ˜

| ãƒ†ãƒ¼ãƒ–ãƒ« | èª¬æ˜ |
|---------|------|
| master_stella_companies | å…¨é¡§å®¢ã®åŸºæœ¬æƒ…å ±ï¼ˆä¼æ¥­åã€é€£çµ¡å…ˆç­‰ï¼‰ |
| stp_stages | STPå•†è«‡ã‚¹ãƒ†ãƒ¼ã‚¸ãƒã‚¹ã‚¿ï¼ˆãƒªãƒ¼ãƒ‰ã€œå—æ³¨/å¤±æ³¨ï¼‰ |
| stp_contact_methods | STPæ¥è§¦æ–¹æ³•ãƒã‚¹ã‚¿ï¼ˆé›»è©±ã€ãƒ¡ãƒ¼ãƒ«ã€è¨ªå•ç­‰ï¼‰- æ¥è§¦å±¥æ­´ç”¨ |
| stp_lead_sources | STPæµå…¥çµŒè·¯ãƒã‚¹ã‚¿ |
| stp_communication_methods | STPé€£çµ¡æ–¹æ³•ãƒã‚¹ã‚¿ - ä¼æ¥­ã¨ã®é€£çµ¡æ–¹æ³• |
| stp_agents | STPä»£ç†åº—ãƒã‚¹ã‚¿ï¼ˆMasterStellaCompanyã¨1:1ã§é€£æºï¼‰ |
| stp_agent_contracts | STPä»£ç†åº—å¥‘ç´„æ›¸ï¼ˆè¤‡æ•°ä»¶ç®¡ç†ã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æºå¯¾å¿œï¼‰ |
| stp_agent_staff | STPä»£ç†åº—æ‹…å½“è€…ï¼ˆä¸­é–“ãƒ†ãƒ¼ãƒ–ãƒ«ã€è¤‡æ•°æ‹…å½“è€…å¯¾å¿œï¼‰ |
| stp_companies | STPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¼æ¥­ï¼ˆå•†è«‡æƒ…å ±ã€ã‚¹ãƒ†ãƒ¼ã‚¸ç®¡ç†ï¼‰ |
| stp_company_contracts | STPä¼æ¥­å¥‘ç´„æ›¸ï¼ˆè¤‡æ•°ä»¶ç®¡ç†ã€ç· çµã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†ï¼‰ |
| stp_contact_histories | STPæ¥è§¦å±¥æ­´ï¼ˆä¼æ¥­ãƒ»ä»£ç†åº—ä¸¡å¯¾å¿œï¼‰ |
| stp_stage_histories | STPã‚¹ãƒ†ãƒ¼ã‚¸å¤‰æ›´å±¥æ­´ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆè¨˜éŒ²ï¼‰ |
| stp_contract_histories | STPå¥‘ç´„å±¥æ­´ |
| staff | ç¤¾å†…ã‚¹ã‚¿ãƒƒãƒ•ï¼ˆæ‹…å½“è€…ã€ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ï¼‰ |
| staff_permissions | ã‚¹ã‚¿ãƒƒãƒ•æ¨©é™ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼‰ |

### ä»£ç†åº—ï¼ˆstp_agentsï¼‰ã®ä¸»è¦ã‚«ãƒ©ãƒ 

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| companyId | Int | ä»£ç†åº—ä¼æ¥­ï¼ˆMasterStellaCompanyã¸ã®å¤–éƒ¨ã‚­ãƒ¼ã€1:1ï¼‰ |
| status | String | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ã‚¢ã‚¯ãƒ†ã‚£ãƒ– / ä¼‘æ­¢ / è§£ç´„ |
| category1 | String | åŒºåˆ†â‘ : ä»£ç†åº— / é¡§å• |
| category2 | String | åŒºåˆ†â‘¡: æ³•äºº / å€‹äºº |
| meetingDate | DateTime? | å•†è«‡æ—¥ |
| contractStatus | String? | å¥‘ç´„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: å¥‘ç´„æ¸ˆã¿ / å•†è«‡æ¸ˆã¿ / æœªå•†è«‡ / æ—¥ç¨‹èª¿æ•´ä¸­ |
| contractNote | String? | å¥‘ç´„å†…å®¹ãƒ¡ãƒ¢ |
| referrerCompanyId | Int? | ç´¹ä»‹è€…ï¼ˆMasterStellaCompanyã¸ã®å¤–éƒ¨ã‚­ãƒ¼ï¼‰ |
| note | String? | ä»£ç†åº—ãƒ¡ãƒ¢ |

**è¡¨ç¤ºç”¨ãƒ‡ãƒ¼ã‚¿ï¼ˆMasterStellaCompanyã‹ã‚‰å–å¾—ï¼‰:**
- ä»£ç†åº—å â†’ company.name
- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ â†’ company.email
- é›»è©±ç•ªå· â†’ company.phone
- ç´¹ä»‹è€…å â†’ referrerCompany.name

### ä»£ç†åº—å¥‘ç´„æ›¸ï¼ˆstp_agent_contractsï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| agentId | Int | ä»£ç†åº—ã¸ã®å¤–éƒ¨ã‚­ãƒ¼ |
| contractUrl | String | å¥‘ç´„æ›¸URL |
| signedDate | DateTime? | ç· çµæ—¥ï¼ˆæœªç· çµã®å ´åˆnullï¼‰ |
| title | String? | å¥‘ç´„æ›¸ã‚¿ã‚¤ãƒˆãƒ« |
| externalId | String? | å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹IDï¼ˆã‚¯ãƒ©ã‚¦ãƒ‰ã‚µã‚¤ãƒ³ç­‰ï¼‰ |
| externalService | String? | å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹å |
| status | String | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: draft / pending / signed / expired |
| note | String? | å‚™è€ƒ |

### STPä¼æ¥­ï¼ˆstp_companiesï¼‰ã®ä¸»è¦ã‚«ãƒ©ãƒ 

#### åŸºæœ¬æƒ…å ±
| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| companyId | Int | å…¨é¡§å®¢ãƒã‚¹ã‚¿ã¸ã®å¤–éƒ¨ã‚­ãƒ¼ |
| agentId | Int? | ä»£ç†åº—ID |
| note | String? | ä¼æ¥­ãƒ¡ãƒ¢ |

#### ã‚¹ãƒ†ãƒ¼ã‚¸ç®¡ç†
| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| currentStageId | Int? | ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¸ |
| nextTargetStageId | Int? | ãƒã‚¯ã‚¹ãƒˆã‚¹ãƒ†ãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆ |
| nextTargetDate | DateTime? | æ¬¡ã®å•†è«‡æ—¥ã‚³ãƒŸãƒƒãƒˆ |

#### æ—¥ä»˜æƒ…å ±
| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| leadAcquiredDate | DateTime? | ãƒªãƒ¼ãƒ‰ç²å¾—æ—¥ |
| meetingDate | DateTime? | åˆå›å•†è«‡æ—¥ |
| firstKoDate | DateTime? | åˆå›KOæ—¥ |
| jobPostingStartDate | String? | æ±‚äººæ²è¼‰é–‹å§‹æ—¥ï¼ˆãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ï¼‰ |

#### å¥‘ç´„æƒ…å ±
| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| forecast | String? | ãƒ¨ãƒŸï¼ˆMIN,è½ã¨ã—,MAX,æ¥æœˆ,è¾é€€ï¼‰ |
| contractNote | String? | å¥‘ç´„ãƒ¡ãƒ¢ |
| industryType | String? | æ¥­ç¨®åŒºåˆ†ï¼ˆä¸€èˆ¬,æ´¾é£ï¼‰ |
| plannedHires | Int? | æ¡ç”¨äºˆå®šäººæ•° |
| contractPlan | String? | å¥‘ç´„ãƒ—ãƒ©ãƒ³ï¼ˆå¾Œã§ãƒ­ã‚¸ãƒƒã‚¯æ§‹ç¯‰ãƒ»è‡ªå‹•å…¥åŠ›ï¼‰ |
| media | String? | åª’ä½“ï¼ˆãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ï¼‰ |
| contractStartDate | DateTime? | å¥‘ç´„é–‹å§‹æ—¥ï¼ˆå¾Œã§ãƒ­ã‚¸ãƒƒã‚¯æ§‹ç¯‰ãƒ»è‡ªå‹•å…¥åŠ›ï¼‰ |
| contractEndDate | DateTime? | å¥‘ç´„çµ‚äº†æ—¥ï¼ˆå¾Œã§ãƒ­ã‚¸ãƒƒã‚¯æ§‹ç¯‰ãƒ»è‡ªå‹•å…¥åŠ›ï¼‰ |
| initialFee | Int? | åˆæœŸè²»ç”¨ï¼ˆ0, 100000, 150000ï¼‰ |
| monthlyFee | Int? | æœˆé¡ |
| performanceFee | Int? | æˆæœå ±é…¬å˜ä¾¡ |
| salesStaffId | Int? | æ‹…å½“å–¶æ¥­ï¼ˆStaffã‹ã‚‰é¸æŠï¼‰ |
| operationStaffList | String? | æ‹…å½“é‹ç”¨ï¼ˆè¤‡æ•°é¸æŠï¼šindeed,é‹ç”¨2ç­‰ï¼‰ |

#### ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±
| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| operationStatus | String? | é‹ç”¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆãƒ†ã‚¹ãƒˆ1,ãƒ†ã‚¹ãƒˆ2ï¼‰ |
| accountId | String? | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆID |
| accountPass | String? | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆPASS |

#### è«‹æ±‚å…ˆæƒ…å ±
| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| billingLocationId | Int? | è«‹æ±‚å…ˆä½æ‰€ï¼ˆæ‹ ç‚¹IDï¼‰ |
| billingContactId | Int? | è«‹æ±‚å…ˆä»£è¡¨è€…ï¼ˆæ‹…å½“è€…IDï¼‰ |
| billingAddress | String? | è«‹æ±‚å…ˆä½æ‰€ï¼ˆé¸æŠæ™‚ã«ã‚³ãƒ”ãƒ¼ï¼‰ |
| billingRepresentative | String? | è«‹æ±‚å…ˆä»£è¡¨è€…ï¼ˆé¸æŠæ™‚ã«ã‚³ãƒ”ãƒ¼ï¼‰ |
| billingEmail | String? | è«‹æ±‚å…ˆã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆé¸æŠæ™‚ã«ã‚³ãƒ”ãƒ¼ï¼‰ |
| paymentTerms | String? | æ”¯æ‰•ã„ã‚µã‚¤ãƒˆ |

#### ãã®ä»–
| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| communicationMethodId | Int? | é€£çµ¡æ–¹æ³•ï¼ˆãƒã‚¹ã‚¿ã‹ã‚‰é¸æŠï¼‰ |
| pendingReason | String? | æ¤œè¨ç†ç”±ï¼ˆæ¤œè¨ä¸­ã‚¹ãƒ†ãƒ¼ã‚¸æ™‚ï¼‰ |
| lostReason | String? | å¤±æ³¨ç†ç”±ï¼ˆå¤±æ³¨ã‚¹ãƒ†ãƒ¼ã‚¸æ™‚ï¼‰ |
| leadSourceId | Int? | æµå…¥çµŒè·¯ï¼ˆãƒã‚¹ã‚¿ã‹ã‚‰é¸æŠï¼‰ |

**å…¨é¡§å®¢ãƒã‚¹ã‚¿ã‹ã‚‰è¡¨ç¤ºã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿:**
- æ¥­ç•Œ â†’ company.industry
- å£²ä¸Šè¦æ¨¡ â†’ company.revenueScale
- ä¼æ¥­HP â†’ company.websiteUrl

### STPä¼æ¥­å¥‘ç´„æ›¸ï¼ˆstp_company_contractsï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| stpCompanyId | Int | STPä¼æ¥­ã¸ã®å¤–éƒ¨ã‚­ãƒ¼ |
| contractUrl | String? | å¥‘ç´„æ›¸URL |
| signedDate | DateTime? | ç· çµæ—¥ï¼ˆæœªç· çµã®å ´åˆnullï¼‰ |
| title | String? | å¥‘ç´„æ›¸ã‚¿ã‚¤ãƒˆãƒ« |
| externalId | String? | å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹IDï¼ˆã‚¯ãƒ©ã‚¦ãƒ‰ã‚µã‚¤ãƒ³ç­‰ï¼‰ |
| externalService | String? | å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹å |
| status | String | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: draft / é€ä»˜æ¸ˆã¿ / å…ˆæ–¹æƒ…å ±å¾…ã¡ / signed / expiredç­‰ |
| note | String? | å‚™è€ƒ |

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
stella-crm/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma
â”‚   â”œâ”€â”€ seed.ts
â”‚   â””â”€â”€ migrations/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ page.tsx                    # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ companies/                  # å…¨é¡§å®¢ãƒã‚¹ã‚¿
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ companies-table.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ actions.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ new/
â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â””â”€â”€ stp/                        # STPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
â”‚   â”‚       â”œâ”€â”€ companies/              # STPä¼æ¥­ç®¡ç†
â”‚   â”‚       â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚       â”‚   â”œâ”€â”€ stp-companies-table.tsx
â”‚   â”‚       â”‚   â”œâ”€â”€ actions.ts
â”‚   â”‚       â”‚   â””â”€â”€ stage-management/   # ã‚¹ãƒ†ãƒ¼ã‚¸ç®¡ç†
â”‚   â”‚       â”‚       â””â”€â”€ actions.ts
â”‚   â”‚       â”œâ”€â”€ agents/                 # ä»£ç†åº—ç®¡ç†
â”‚   â”‚       â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚       â”‚   â”œâ”€â”€ agents-table.tsx
â”‚   â”‚       â”‚   â”œâ”€â”€ actions.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ contracts-modal.tsx  # å¥‘ç´„æ›¸ç®¡ç†ãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚   â”‚       â”‚   â””â”€â”€ contract-actions.ts  # å¥‘ç´„æ›¸CRUDå‡¦ç†
â”‚   â”‚       â”œâ”€â”€ records/                # å±¥æ­´ç®¡ç†
â”‚   â”‚       â”‚   â”œâ”€â”€ company-contacts/   # ä¼æ¥­æ¥è§¦å±¥æ­´
â”‚   â”‚       â”‚   â”œâ”€â”€ agent-contacts/     # ä»£ç†åº—æ¥è§¦å±¥æ­´
â”‚   â”‚       â”‚   â””â”€â”€ stage-histories/    # ã‚¹ãƒ†ãƒ¼ã‚¸å¤‰æ›´å±¥æ­´
â”‚   â”‚       â””â”€â”€ settings/               # ãƒã‚¹ã‚¿ç®¡ç†
â”‚   â”‚           â”œâ”€â”€ stages/             # ã‚¹ãƒ†ãƒ¼ã‚¸ãƒã‚¹ã‚¿
â”‚   â”‚           â””â”€â”€ contact-methods/    # æ¥è§¦æ–¹æ³•ãƒã‚¹ã‚¿
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                         # shadcn/ui
â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â””â”€â”€ sidebar.tsx
â”‚   â”‚   â”œâ”€â”€ crud-table.tsx              # æ±ç”¨CRUDãƒ†ãƒ¼ãƒ–ãƒ«
â”‚   â”‚   â”œâ”€â”€ data-table.tsx              # èª­ã¿å–ã‚Šå°‚ç”¨ãƒ†ãƒ¼ãƒ–ãƒ«
â”‚   â”‚   â””â”€â”€ stage-management/           # ã‚¹ãƒ†ãƒ¼ã‚¸ç®¡ç†ãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚   â”‚       â”œâ”€â”€ stage-management-modal.tsx
â”‚   â”‚       â”œâ”€â”€ current-status-section.tsx
â”‚   â”‚       â”œâ”€â”€ stage-progress-visual.tsx
â”‚   â”‚       â”œâ”€â”€ stage-history-section.tsx
â”‚   â”‚       â”œâ”€â”€ statistics-section.tsx
â”‚   â”‚       â”œâ”€â”€ stage-update-form.tsx
â”‚   â”‚       â””â”€â”€ alert-dialog.tsx
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ prisma.ts
â”‚   â”‚   â”œâ”€â”€ utils.ts
â”‚   â”‚   â””â”€â”€ stage-transition/           # ã‚¹ãƒ†ãƒ¼ã‚¸é·ç§»ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚       â”œâ”€â”€ types.ts
â”‚   â”‚       â”œâ”€â”€ constants.ts
â”‚   â”‚       â”œâ”€â”€ event-detector.ts
â”‚   â”‚       â”œâ”€â”€ alert-validator.ts
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â””â”€â”€ types/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ REQUIREMENTS.md
â”‚   â””â”€â”€ SETUP.md
â””â”€â”€ CLAUDE.md
```

---

## ç”»é¢ä¸€è¦§

```
/                                        â†’ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

# å…¨é¡§å®¢ãƒã‚¹ã‚¿
/companies                               â†’ å…¨é¡§å®¢ä¸€è¦§
/companies/new                           â†’ å…¨é¡§å®¢æ–°è¦ç™»éŒ²
/companies/[id]                          â†’ å…¨é¡§å®¢è©³ç´°
/companies/[id]/edit                     â†’ å…¨é¡§å®¢ç·¨é›†

# STPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ - ä¼æ¥­ç®¡ç†
/stp/companies                           â†’ STPä¼æ¥­ä¸€è¦§ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¸ç®¡ç†ãƒœã‚¿ãƒ³ä»˜ãï¼‰

# STPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ - ä»£ç†åº—ç®¡ç†
/stp/agents                              â†’ ä»£ç†åº—ä¸€è¦§

# STPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ - å±¥æ­´ç®¡ç†
/stp/records/company-contacts            â†’ ä¼æ¥­æ¥è§¦å±¥æ­´ä¸€è¦§
/stp/records/agent-contacts              â†’ ä»£ç†åº—æ¥è§¦å±¥æ­´ä¸€è¦§
/stp/records/stage-histories             â†’ ã‚¹ãƒ†ãƒ¼ã‚¸å¤‰æ›´å±¥æ­´ä¸€è¦§

# STPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ - ãƒã‚¹ã‚¿ç®¡ç†
/stp/settings/stages                     â†’ å•†è«‡ã‚¹ãƒ†ãƒ¼ã‚¸ãƒã‚¹ã‚¿
/stp/settings/contact-methods            â†’ æ¥è§¦æ–¹æ³•ãƒã‚¹ã‚¿
```

---

## é‡è¦ãªãƒ­ã‚¸ãƒƒã‚¯

### ã‚¹ãƒ†ãƒ¼ã‚¸é·ç§»ãƒ­ã‚¸ãƒƒã‚¯

`src/lib/stage-transition/` ã«ã‚¹ãƒ†ãƒ¼ã‚¸é·ç§»ã®åˆ¤å®šãƒ»æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã€‚

#### ã‚¤ãƒ™ãƒ³ãƒˆç¨®åˆ¥ï¼ˆevent_typeï¼‰

| å€¤ | æ„å‘³ | ç™ºç”Ÿã‚¿ã‚¤ãƒŸãƒ³ã‚° |
|----|------|---------------|
| commit | æ–°è¦ç›®æ¨™è¨­å®š | ç›®æ¨™ãŒãªã„çŠ¶æ…‹ã‹ã‚‰æ–°ã—ãç›®æ¨™ã‚’è¨­å®š |
| achieved | ç›®æ¨™é”æˆ | ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¸ãŒç›®æ¨™ã‚¹ãƒ†ãƒ¼ã‚¸ã«åˆ°é” |
| recommit | ç›®æ¨™å¤‰æ›´ | ç›®æ¨™ã‚¹ãƒ†ãƒ¼ã‚¸ã¾ãŸã¯ç›®æ¨™æ—¥ã‚’å¤‰æ›´ |
| progress | å‰é€² | ç›®æ¨™ã¨ã¯é–¢ä¿‚ãªãã‚¹ãƒ†ãƒ¼ã‚¸ãŒå‰ã«é€²ã‚“ã  |
| back | å¾Œé€€ | ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¸ãŒå‰ã®ã‚¹ãƒ†ãƒ¼ã‚¸ã«æˆ»ã£ãŸ |
| cancel | ç›®æ¨™å–æ¶ˆ | ç›®æ¨™ã‚’é”æˆã›ãšã«å‰Šé™¤ã—ãŸ |

#### ã‚¤ãƒ™ãƒ³ãƒˆæ¤œå‡ºãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ

```
ä¿å­˜ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸ
        â”‚
        â–¼
current_stage_idã¯å¤‰æ›´ã•ã‚ŒãŸï¼Ÿ
        â”‚
   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
   YES       NO
   â”‚         â”‚
   â–¼         â–¼
ç›®æ¨™ã¨ä¸€è‡´ï¼Ÿ ç›®æ¨™é–¢é€£ã¯å¤‰æ›´ã•ã‚ŒãŸï¼Ÿ
   â”‚              â”‚
 â”Œâ”€â”´â”€â”       â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
YES  NO     YES        NO
 â”‚   â”‚       â”‚         â”‚
 â–¼   â–¼       â–¼         â–¼
achieved  é †ç•ªã‚’æ¯”è¼ƒ  ä»¥å‰ç›®æ¨™ã‚ã‚Šï¼Ÿ  ä½•ã‚‚ã—ãªã„
 â”‚         â”‚           â”‚
 â”‚    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”   â”Œâ”€â”€â”´â”€â”€â”
 â”‚   ä¸ŠãŒã£ãŸ  ä¸‹ãŒã£ãŸ  YES    NO
 â”‚    â”‚         â”‚      â”‚     â”‚
 â”‚    â–¼         â–¼      â–¼     â–¼
 â”‚  progress   back  ç›®æ¨™æ®‹ã£ãŸï¼Ÿ commit
 â”‚                      â”‚
 â”‚                 â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
 â”‚                YES       NO
 â”‚                 â”‚         â”‚
 â”‚                 â–¼         â–¼
 â”‚              recommit   cancel
 â”‚
 â–¼
æ¬¡ã®ç›®æ¨™ã‚‚åŒæ™‚ã«è¨­å®šã•ã‚ŒãŸï¼Ÿ â†’ YES â†’ +commit
```

### ã‚¢ãƒ©ãƒ¼ãƒˆæ©Ÿèƒ½

ã‚¹ãƒ†ãƒ¼ã‚¸å¤‰æ›´æ™‚ã«18ç¨®é¡ã®ã‚¢ãƒ©ãƒ¼ãƒˆãƒ«ãƒ¼ãƒ«ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã€‚

| ã‚«ãƒ†ã‚´ãƒª | ID | æ·±åˆ»åº¦ | æ¦‚è¦ |
|---------|-----|--------|-----|
| è«–ç†ã‚¨ãƒ©ãƒ¼ | L-001ã€œL-005 | ERROR/WARNING | ç›®æ¨™è¨­å®šã®çŸ›ç›¾ãƒã‚§ãƒƒã‚¯ |
| æ™‚ç³»åˆ—ã‚¨ãƒ©ãƒ¼ | T-001ã€œT-003 | ERROR/WARNING/INFO | ç›®æ¨™æ—¥ã®å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯ |
| é·ç§»ã‚¨ãƒ©ãƒ¼ | S-001ã€œS-004 | WARNING/INFO | ã‚¹ãƒ†ãƒ¼ã‚¸é·ç§»ã®å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯ |
| ç›®æ¨™ç®¡ç† | G-001ã€œG-005 | ERROR/WARNING/INFO | ç›®æ¨™å¤‰æ›´ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒã‚§ãƒƒã‚¯ |
| ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ | D-001, D-003 | ERROR/WARNING | å¿…é ˆé …ç›®ãƒ»ç†ç”±å…¥åŠ›ãƒã‚§ãƒƒã‚¯ |

**æ·±åˆ»åº¦ã¨å¯¾å¿œï¼š**
- **ERROR**: ä¿å­˜ãƒ–ãƒ­ãƒƒã‚¯ã€ä¿®æ­£å¿…é ˆ
- **WARNING**: è­¦å‘Šè¡¨ç¤ºã€ç¢ºèªå¾Œã«ä¿å­˜å¯èƒ½ï¼ˆä¸€éƒ¨ã¯ç†ç”±å…¥åŠ›å¿…é ˆï¼‰
- **INFO**: æƒ…å ±è¡¨ç¤ºã€ãã®ã¾ã¾ä¿å­˜å¯èƒ½

### ã‚¹ãƒ†ãƒ¼ã‚¸ç®¡ç†ãƒ¢ãƒ¼ãƒ€ãƒ«

STPä¼æ¥­ä¸€è¦§ã®ğŸ“Šãƒœã‚¿ãƒ³ã‹ã‚‰é–‹ãå°‚ç”¨ãƒ¢ãƒ¼ãƒ€ãƒ«ã€‚

**æ©Ÿèƒ½ï¼š**
1. ç¾åœ¨ã®çŠ¶æ³ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¸ã€æ»åœ¨æ—¥æ•°ã€ç›®æ¨™æƒ…å ±ï¼‰
2. ã‚¹ãƒ†ãƒ¼ã‚¸é€²æ—ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ï¼ˆæ¨ªä¸€åˆ—ã®ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºï¼‰
3. ã‚¹ãƒ†ãƒ¼ã‚¸å±¥æ­´ï¼ˆæœ€æ–°5ä»¶ã€å…¨ä»¶è¡¨ç¤ºå¯èƒ½ï¼‰
4. çµ±è¨ˆæƒ…å ±ï¼ˆé”æˆå›æ•°ã€é”æˆç‡ã€å¾Œé€€å›æ•°ï¼‰
5. ã‚¹ãƒ†ãƒ¼ã‚¸æ›´æ–°ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

**æ“ä½œåˆ†é›¢ï¼š**
- **æ–°è¦ç™»éŒ²æ™‚**: ãƒ•ã‚©ãƒ¼ãƒ ã§ã‚¹ãƒ†ãƒ¼ã‚¸å…¥åŠ›å¯èƒ½
- **ç·¨é›†æ™‚**: ã‚¹ãƒ†ãƒ¼ã‚¸é–¢é€£ã¯èª­ã¿å–ã‚Šå°‚ç”¨ã€å¤‰æ›´ã¯ãƒ¢ãƒ¼ãƒ€ãƒ«ã‹ã‚‰

---

## æ±ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### CrudTableï¼ˆ`src/components/crud-table.tsx`ï¼‰

æ±ç”¨CRUDãƒ†ãƒ¼ãƒ–ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚

**ä¸»ãªæ©Ÿèƒ½ï¼š**
- ä¸€è¦§è¡¨ç¤ºï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚½ãƒ¼ãƒˆï¼‰
- æ–°è¦è¿½åŠ ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- ç°¡æ˜“/è©³ç´°å…¥åŠ›ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ
- ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³

**ColumnDefã®ä¸»è¦ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼š**

```typescript
type ColumnDef = {
  key: string;
  header: string;
  type?: "text" | "number" | "date" | "datetime" | "boolean" | "textarea" | "select";
  editable?: boolean;           // ç·¨é›†å¯å¦ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆtrueï¼‰
  editableOnCreate?: boolean;   // æ–°è¦ä½œæˆæ™‚ã®ã¿ç·¨é›†å¯èƒ½
  editableOnUpdate?: boolean;   // ç·¨é›†æ™‚ã®ã¿ç·¨é›†å¯èƒ½
  options?: { value: string; label: string }[];
  required?: boolean;
  searchable?: boolean;         // selectã§æ¤œç´¢å¯èƒ½ã«ã™ã‚‹
  simpleMode?: boolean;         // ç°¡æ˜“å…¥åŠ›ãƒ¢ãƒ¼ãƒ‰ã§è¡¨ç¤ºã™ã‚‹ã‹
};
```

---

## åˆæœŸãƒ‡ãƒ¼ã‚¿

### stp_stagesï¼ˆå•†è«‡ã‚¹ãƒ†ãƒ¼ã‚¸ï¼‰

| id | name | display_order | åˆ†é¡ |
|----|------|---------------|------|
| 1 | ãƒªãƒ¼ãƒ‰ | 1 | é€²è¡Œã‚¹ãƒ†ãƒ¼ã‚¸ |
| 2 | å•†è«‡åŒ– | 2 | é€²è¡Œã‚¹ãƒ†ãƒ¼ã‚¸ |
| 3 | ææ¡ˆä¸­ | 3 | é€²è¡Œã‚¹ãƒ†ãƒ¼ã‚¸ |
| 4 | è¦‹ç©æç¤º | 4 | é€²è¡Œã‚¹ãƒ†ãƒ¼ã‚¸ |
| 5 | å—æ³¨ | 5 | çµ‚äº†ã‚¹ãƒ†ãƒ¼ã‚¸ |
| 6 | å¤±æ³¨ | 6 | çµ‚äº†ã‚¹ãƒ†ãƒ¼ã‚¸ |
| 7 | æ¤œè¨ä¸­ | 7 | ä¿ç•™ã‚¹ãƒ†ãƒ¼ã‚¸ |

**æ³¨æ„ï¼š** å¤±æ³¨ï¼ˆ6ï¼‰ã€æ¤œè¨ä¸­ï¼ˆ7ï¼‰ã¯ç›®æ¨™ã«è¨­å®šä¸å¯

### stp_contact_methodsï¼ˆæ¥è§¦æ–¹æ³• - æ¥è§¦å±¥æ­´ç”¨ï¼‰

| id | name | display_order |
|----|------|---------------|
| 1 | é›»è©± | 1 |
| 2 | ãƒ¡ãƒ¼ãƒ« | 2 |
| 3 | è¨ªå• | 3 |
| 4 | Webä¼šè­° | 4 |
| 5 | ãã®ä»– | 5 |

### stp_lead_sourcesï¼ˆæµå…¥çµŒè·¯ï¼‰

| id | name | display_order |
|----|------|---------------|
| 1 | æµå…¥çµŒè·¯1 | 1 |
| 2 | æµå…¥çµŒè·¯2 | 2 |
| 3 | æµå…¥çµŒè·¯3 | 3 |
| 4 | æµå…¥çµŒè·¯4 | 4 |
| 5 | æµå…¥çµŒè·¯5 | 5 |

### stp_communication_methodsï¼ˆé€£çµ¡æ–¹æ³• - ä¼æ¥­ã¨ã®é€£çµ¡æ–¹æ³•ï¼‰

| id | name | display_order |
|----|------|---------------|
| 1 | é€£çµ¡æ–¹æ³•1 | 1 |
| 2 | é€£çµ¡æ–¹æ³•2 | 2 |
| 3 | é€£çµ¡æ–¹æ³•3 | 3 |
| 4 | é€£çµ¡æ–¹æ³•4 | 4 |
| 5 | é€£çµ¡æ–¹æ³•5 | 5 |

---

## é¸æŠè‚¢

```typescript
// ãƒ¨ãƒŸï¼ˆforecastï¼‰
const FORECASTS = ['MIN', 'è½ã¨ã—', 'MAX', 'æ¥æœˆ', 'è¾é€€'] as const;

// é‹ç”¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆoperationStatusï¼‰
const OPERATION_STATUSES = ['ãƒ†ã‚¹ãƒˆ1', 'ãƒ†ã‚¹ãƒˆ2'] as const;

// æ¥­ç¨®åŒºåˆ†ï¼ˆindustryTypeï¼‰
const INDUSTRY_TYPES = ['ä¸€èˆ¬', 'æ´¾é£'] as const;

// åˆæœŸè²»ç”¨ï¼ˆinitialFeeï¼‰
const INITIAL_FEES = [0, 100000, 150000] as const;

// æ‹…å½“é‹ç”¨ï¼ˆoperationStaffListï¼‰
const OPERATION_STAFF_OPTIONS = ['indeed', 'é‹ç”¨2'] as const;

// ã‚¤ãƒ™ãƒ³ãƒˆç¨®åˆ¥ï¼ˆeventTypeï¼‰
const EVENT_TYPES = ['commit', 'achieved', 'recommit', 'progress', 'back', 'cancel'] as const;

// ä¼æ¥­å¥‘ç´„æ›¸ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆstp_company_contracts.statusï¼‰
const CONTRACT_STATUSES = ['draft', 'é€ä»˜æ¸ˆã¿', 'å…ˆæ–¹æƒ…å ±å¾…ã¡', 'signed', 'expired'] as const;
```

---

## å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- `docs/REQUIREMENTS.md` - è©³ç´°ãªè¦ä»¶å®šç¾©
- `docs/SETUP.md` - ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
- `prisma/schema.prisma` - DBã‚¹ã‚­ãƒ¼ãƒ
- `status_transition_logic_v2.md` - ã‚¹ãƒ†ãƒ¼ã‚¸é·ç§»ãƒ­ã‚¸ãƒƒã‚¯ä»•æ§˜æ›¸
